<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>4D Reconstruction Research</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Added inline styles for gallery layout adjustments */
        .gallery-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100%;
            position: relative; /* For positioning overlay elements */
            min-height: 380px; /* Further reduced from 400px for more compactness */
        }
        
        .video-container {
            width: 30%;
            max-width: 600px;
            border: 3px solid #3f51b5;
            border-radius: 6px;
            padding: 10px;
            background-color: #f5f9ff;
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 10; /* Ensure video sits on top */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        }
        
        .input-label {
            position: absolute;
            top: -12px;
            left: 15px;
            background-color: #3f51b5;
            color: white;
            padding: 2px 10px;
            font-size: 14px;
            border-radius: 3px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
        }
        
        .gallery-video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .iframe-container {
            width: 100%;
            height: 100%;
            flex-grow: 1;
            position: relative;
            min-height: 380px; /* Further reduced from 400px for more compactness */
        }
        
        .output-label {
            position: absolute;
            top: 10px;
            left: 15px;
            background-color: #4caf50;
            color: white;
            padding: 2px 10px;
            font-size: 14px;
            border-radius: 3px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: bold;
            z-index: 5;
        }
        
        .gallery-iframe {
            width: 100%;
            height: 100%;
            border: none;
            background-color: #f5f5f5;
            border-radius: 4px;
        }
        
        /* Updated styles for interaction instructions */
        .interaction-guide {
            position: relative;
            display: flex;
            justify-content: center;
            gap: 30px; /* Reduced from 40px */
            margin-top: 3px; /* Reduced from 5px */
            margin-bottom: 5px; /* Reduced from 10px */
            padding: 4px 10px; /* Reduced from 6px 10px */
            background-color: #f5f5f5;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            z-index: 5;
            width: 100%;
        }
        
        .interaction-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            text-align: center;
        }
        
        .interaction-icon {
            width: 30px; /* Smaller icon size */
            height: 30px;
        }
        
        .interaction-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .interaction-text {
            font-size: 14px;
            font-weight: 500;
            color: #333;
        }
        
        /* Updated styles for gallery indicators */
        .gallery-indicators {
            position: relative;
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 10px; /* Reduced from 15px */
            z-index: 20;
        }
        
        .gallery-indicator {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .gallery-indicator.active {
            background-color: #3f51b5;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        .comparison-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            text-align: center;
            width: 100%;
            height: auto;
            position: relative;
        }

        .comparison-video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            background-color: transparent;
            object-fit: contain;
        }

        .method-label {
            font-size: 14px;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 4px 10px; /* Reduced from 6px 12px */
            border-radius: 4px;
        }

        /* Add this to ensure proper JS video resizing and container wrapping */
        .gallery-container.comparison-container {
            overflow: visible;
            width: 100%;
            position: relative;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            background: #f9f9f9;
            padding: 20px;
            min-height: 400px;
        }

        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
            width: 100%;
        }

        .comparison-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            text-align: center;
            width: 100%;
            position: relative;
        }

        .comparison-video {
            width: 100%;
            height: auto;
            display: block;
            border-radius: 4px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            background-color: transparent;
            object-fit: contain;
        }

        /* Styles for the pose evaluation gallery */
        .pose-evaluation-section {
            margin-top: 15px; /* Reduced from 25px */
        }
        
        .pose-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .pose-btn {
            padding: 8px 16px;
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .pose-btn.active {
            background-color: #3f51b5;
            color: white;
        }
        
        .pose-gallery-container {
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            min-height: 350px; /* Reduced from 400px */
            background-color: #f9f9f9;
            padding: 15px; /* Reduced from 20px */
            display: block;
        }
        
        .pose-slide {
            display: none;
            padding: 20px;
            background-color: #f9f9f9;
        }
        
        .pose-slide.active {
            display: block;
        }
        
        .pose-image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px; /* Reduced from 30px */
            flex-wrap: wrap;
            padding: 10px 0; /* Reduced from 15px 0 */
            width: 100%;
        }
        
        .pose-image-item {
            width: auto;
            text-align: center;
        }
        
        .pose-image {
            width: 100%;
            height: auto;
            border-radius: 4px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }
        
        .pose-label {
            margin-top: 8px;
            font-weight: bold;
            font-size: 14px;
        }
        
        .pose-indicators {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 10px; /* Reduced from 15px */
            margin-bottom: 15px; /* Reduced from 20px */
        }
        
        .pose-indicator {
            width: 12px;
            height: 12px;
            background-color: #ccc;
            border-radius: 50%;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .pose-indicator.active {
            background-color: #3f51b5;
        }

        /* Fix for the pose evaluation gallery */
        .pose-gallery-container {
            min-height: 350px; /* Reduced from 400px */
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            position: relative;
            overflow: visible;
        }
        
        .pose-slide {
            display: none;
            width: 100%;
            height: 100%;
            position: relative;
        }
        
        .pose-slide.active {
            display: block;
            position: relative;
        }
        
        .pose-image-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            gap: 30px;
            padding: 15px 0;
            width: 100%;
        }
        
        .pose-image-item {
            width: 100%;
            text-align: center;
            margin: 0 auto;
        }
        
        .pose-image {
            width: 100%;
            height: auto;
            border-radius: 6px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s ease;
        }
        
        .pose-image:hover {
            transform: scale(1.02);
        }
        
        .pose-label {
            margin-top: 12px;
            font-weight: bold;
            font-size: 16px;
            color: #444;
        }

        /* Additional fixes for comparison navigation */
        .dataset-btn:not(.pose-dataset-btn).active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .dataset-btn.pose-dataset-btn.active {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .dataset-buttons {
            margin-top: 10px; /* Reduced from 15px */
            margin-bottom: 15px; /* Reduced from 25px */
        }
        
        /* Fix for pose evaluation gallery */
        .pose-gallery-container {
            min-height: 350px; /* Reduced from 400px */
            height: auto;
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            position: relative;
            overflow: visible;
            display: block;
        }
        
        .pose-indicators {
            margin-top: 15px;
            margin-bottom: 20px;
        }

        /* Reduce vertical spacing between elements */
        p {
            margin-bottom: 0.75rem;
        }

        /* More compact spacing in the abstract */
        .abstract {
            line-height: 1.7; /* Reduced from 1.8 */
        }

        /* Make quantitative results more compact */
        .quantitative-results {
            padding: 12px;
        }

        .quantitative-results.full-width {
            padding: 10px;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <h1>Uni4D: Unifying Visual Foundation Models for 4D Modeling from a Single Video</h1>
                <div class="authors">
                    <div class="author"><span class="author-name">David Y. Yao</span><sup>1</sup>,</div>
                    <div class="author"><span class="author-name">Albert J. Zhai</span><sup>1</sup>,</div>
                    <div class="author"><span class="author-name">Shenlong Wang</span><sup>1</sup>,</div>
                </div>
                <div class="institutions">
                    <div class="institution"><sup>1</sup>University of Illinois, Urbana Champaign</div>
                </div>
                <div class="buttons">
                    <div class="row">
                        <div class="col-sm-8 col-sm-offset-2 text-center">
                            <span class="link-block">
                                <a href="" class="external-link button is-normal is-rounded is-dark btn">
                                    <span class="icon">
                                        <svg class="svg-inline--fa fa-file-pdf fa-w-12" aria-hidden="true" focusable="false" data-prefix="fas"
                                            data-icon="file-pdf" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="-24 -32 432 576"
                                            data-fa-i2svg="">
                                            <path fill="currentColor"
                                                d="M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z">
                                            </path>
                                        </svg>
                                    </span>
                                    <span>Paper</span>
                                </a>
                            </span> &nbsp;
                            <span class="link-block">
                                <a href="" class="external-link button is-normal is-rounded is-dark btn">
                                    <span class="icon">
                                        <svg class="svg-inline--fa fa-github fa-w-16" aria-hidden="true" focusable="false" data-prefix="fab"
                                            data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg="">
                                            <path fill="currentColor"
                                                d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
                                        </svg>
                                    </span>
                                    <span>Code</span>
                                </a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <main>

        <section id="interactive" class="gallery-section">
            <div class="container">
                <div class="section-box">
                    <h2>Interactive Results</h2>

                    <!-- Indicators - moved above the gallery container -->
                    <div class="gallery-indicators">
                        <div class="gallery-indicator active" data-index="0"></div>
                        <div class="gallery-indicator" data-index="1"></div>
                        <div class="gallery-indicator" data-index="2"></div>
                        <div class="gallery-indicator" data-index="3"></div>
                        <div class="gallery-indicator" data-index="4"></div>
                        <div class="gallery-indicator" data-index="5"></div>
                    </div>

                    <div class="gallery-container">
                        <!-- Gallery Slide 1 -->
                        <div class="gallery-slide active">
                            <div class="gallery-content">
                                <div class="iframe-container">
                                    <div class="output-label">4D Reconstruction</div>
                                    <iframe src="https://davidyao99.github.io/uni4d/build?playbackPath=https://davidyao99.github.io/uni4d/recordings/lady-running_hq.viser&initDistanceScale=2.0&initHeightOffset=1.0" class="gallery-iframe" title="Interactive Result 1" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <div class="input-label">Input Video</div>
                                    <video class="gallery-video" autoplay loop muted playsinline controls>
                                        <source src="https://davidyao99.github.io/uni4d/recordings/lady-running.mp4" type="video/mp4">
                                        Your browser does not support video.
                                    </video>
                                </div>
                            
                            </div>
                        </div>

                        <!-- Gallery Slide 2 -->
                        <div class="gallery-slide">
                            <div class="gallery-content">
                                <div class="iframe-container">
                                    <div class="output-label">4D Reconstruction</div>
                                    <iframe src="https://davidyao99.github.io/uni4d/build?playbackPath=https://davidyao99.github.io/uni4d/recordings/judo_hq.viser&initDistanceScale=0.8&initHeightOffset=0.15" class="gallery-iframe" title="Interactive Result 2" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <div class="input-label">Input Video</div>
                                    <video class="gallery-video" autoplay loop muted playsinline controls>
                                        <source src="https://davidyao99.github.io/uni4d/recordings/judo.mp4" type="video/mp4">
                                        Your browser does not support video.
                                    </video>
                                </div>
                                
                            </div>
                        </div>

                        <!-- Gallery Slide 3 -->
                        <div class="gallery-slide">
                            <div class="gallery-content">
                                <div class="iframe-container">
                                    <div class="output-label">4D Reconstruction</div>
                                    <iframe src="https://davidyao99.github.io/uni4d/build?playbackPath=https://davidyao99.github.io/uni4d/recordings/soapbox_hq.viser&initDistanceScale=2.0&initHeightOffset=0.15" class="gallery-iframe" title="Interactive Result 3" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <div class="input-label">Input Video</div>
                                    <video class="gallery-video" autoplay loop muted playsinline>
                                        <source src="https://davidyao99.github.io/uni4d/recordings/soapbox.mp4" type="video/mp4">
                                        Your browser does not support video.
                                    </video>
                                </div>
                                
                            </div>
                        </div>

                        <!-- Gallery Slide 4 -->
                        <div class="gallery-slide">
                            <div class="gallery-content">
                                <div class="iframe-container">
                                    <div class="output-label">4D Reconstruction</div>
                                    <iframe src="https://davidyao99.github.io/uni4d/build?playbackPath=https://davidyao99.github.io/uni4d/recordings/lucia_hq.viser&initDistanceScale=0.8&initHeightOffset=0.15" class="gallery-iframe" title="Interactive Result 2" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <div class="input-label">Input Video</div>
                                    <video class="gallery-video" autoplay loop muted playsinline controls>
                                        <source src="https://davidyao99.github.io/uni4d/recordings/lucia.mp4" type="video/mp4">
                                        Your browser does not support video.
                                    </video>
                                </div>
                                
                            </div>
                        </div>

                        <!-- Gallery Slide 5 -->
                        <div class="gallery-slide">
                            <div class="gallery-content">
                                <div class="iframe-container">
                                    <div class="output-label">4D Reconstruction</div>
                                    <iframe src="https://davidyao99.github.io/uni4d/build?playbackPath=https://davidyao99.github.io/uni4d/recordings/bear_hq.viser&initDistanceScale=1.0&initHeightOffset=0.15" class="gallery-iframe" title="Interactive Result 4" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <div class="input-label">Input Video</div>
                                    <video class="gallery-video" autoplay loop muted playsinline>
                                        <source src="https://davidyao99.github.io/uni4d/recordings/bear.mp4" type="video/mp4">
                                        Your browser does not support video.
                                    </video>
                                </div>
                                
                            </div>
                        </div>

                        <!-- Gallery Slide 6 -->
                        <div class="gallery-slide">
                            <div class="gallery-content">
                                <div class="iframe-container">
                                    <div class="output-label">4D Reconstruction</div>
                                    <iframe src="https://davidyao99.github.io/uni4d/build?playbackPath=https://davidyao99.github.io/uni4d/recordings/breakdance-flare_hq.viser&initDistanceScale=1.6&initHeightOffset=0.0" class="gallery-iframe" title="Interactive Result 5" allowfullscreen></iframe>
                                </div>
                                <div class="video-container">
                                    <div class="input-label">Input Video</div>
                                    <video class="gallery-video" autoplay loop muted playsinline>
                                        <source src="https://davidyao99.github.io/uni4d/recordings/breakdance-flare.mp4" type="video/mp4">
                                        Your browser does not support video.
                                    </video>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation Controls - fix closing tag -->
                        <div class="gallery-nav prev">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                            </svg>
                        </div>
                        <div class="gallery-nav next">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                            </svg>
                        </div>
                    </div>

                    <!-- Interaction Guide - placed below the gallery container -->
                    <div class="interaction-guide">
                        <div class="interaction-item">
                            <div class="interaction-icon">
                                <img src="assets/left-click.png" alt="Left click to rotate">
                            </div>
                            <span class="interaction-text">Left click to rotate</span>
                        </div>
                        <div class="interaction-item">
                            <div class="interaction-icon">
                                <img src="assets/wheel.png" alt="Scroll to zoom">
                            </div>
                            <span class="interaction-text">Scroll to zoom</span>
                        </div>
                        <div class="interaction-item">
                            <div class="interaction-icon">
                                <img src="assets/right-click.png" alt="Right click to pan">
                            </div>
                            <span class="interaction-text">Right click to pan</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="abstract">
            <div class="container">
                <div class="section-box">
                    <h2>Abstract</h2>
                    <div class="abstract">
                        <p>This paper presents a unified approach to understanding dynamic scenes from casual videos. Large pretrained vision models, such as vision-language, video depth prediction, motion tracking, and segmentation models, offer promising capabilities. However, training a single model for comprehensive 4D understanding remains challenging. We introduce Uni4D, a multi-stage optimization framework that harnesses multiple pretrained models to advance dynamic 3D modeling, including static/dynamic reconstruction, camera pose estimation, and dense 3D motion tracking. Our results show state-of-the-art performance in dynamic 4D modeling with superior visual quality. Notably, Uni4D requires no retraining or fine-tuning, highlighting the effectiveness of repurposing visual foundation models for 4D understanding.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="overview">
            <div class="container">
                <div class="section-box">
                    <h2>Method Overview</h2>
                    <div class="overview">
                        <img src="./assets/method.png" alt="Method Overview" class="overview-image">
                    </div>
                    <div class="description">
                        <p>Given a casually captured video, Uni4D harnesses visual foundation models and structured prediction to jointly estimate camera
                            poses, dynamic geometry, and dense 3D motion. Static geometry and poses are obtained through tracklet-based structure-from-motion using predicted depths.
                            Dynamic geometry is improved through smoothness and ARAP motion priors. A final fusion densifies geometry to obtain high quality 4D reconstruction.</p>
                </div>
            </div>
        </section>

        <!-- Comparative Works Section -->
        <section id="comparisongeom">
            <div class="container">
                <div class="section-box">
                
                    <h2>Results - Geometry</h2>

                    <h3>Qualitative</h3>
                    
                    <!-- Dataset Selection Buttons -->
                    <div class="dataset-buttons">
                        <button class="dataset-btn active" data-dataset="sintel">Sintel</button>
                        <button class="dataset-btn" data-dataset="tum">TUM-Dynamics</button>
                        <button class="dataset-btn" data-dataset="bonn">Bonn</button>
                        <button class="dataset-btn" data-dataset="kitti">Kitti</button>
                        <button class="dataset-btn" data-dataset="davis">DAVIS</button>
                    </div>
                    
                    <!-- Interactive Comparison Gallery -->
                    <div class="gallery-container comparison-container">
                        <!-- Sintel Dataset -->
                        <div class="gallery-slide comp-slide active">
                            <div class="comparison-grid">
                                <!-- Row 1 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/market_5_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/market_5_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/market_5_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/market_5_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/market_5_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/market_5_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                
                                <!-- Row 2 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/market_2_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/market_2_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/market_2_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/market_2_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/market_2_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/market_2_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                            </div>
                        </div>
                                                
                        <!-- TUMD Dataset -->
                        <div class="gallery-slide comp-slide">
                            <div class="comparison-grid">
                                <!-- Row 1 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/rgbd_dataset_freiburg3_sitting_xyz_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_dataset_freiburg3_sitting_xyz_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/rgbd_dataset_freiburg3_sitting_xyz_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_dataset_freiburg3_sitting_xyz_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/rgbd_dataset_freiburg3_sitting_xyz_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_dataset_freiburg3_sitting_xyz_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                
                                <!-- Row 2 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/rgbd_dataset_freiburg3_walking_halfsphere_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_dataset_freiburg3_walking_halfsphere_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/rgbd_dataset_freiburg3_walking_halfsphere_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_dataset_freiburg3_walking_halfsphere_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/rgbd_dataset_freiburg3_walking_halfsphere_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_dataset_freiburg3_walking_halfsphere_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- BONN Dataset -->
                        <div class="gallery-slide comp-slide">

                            <div class="comparison-grid">
                                <!-- Row 1 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/rgbd_bonn_balloon_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_bonn_balloon_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/rgbd_bonn_balloon_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_bonn_balloon_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/rgbd_bonn_balloon_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_bonn_balloon_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                
                                <!-- Row 2 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/rgbd_bonn_crowd3_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_bonn_crowd3_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/rgbd_bonn_crowd3_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_bonn_crowd3_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/rgbd_bonn_crowd3_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/rgbd_bonn_crowd3_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                            </div>
                        </div>
                        
                        <!-- KITTI Dataset -->
                        <div class="gallery-slide comp-slide">
                            <div class="comparison-grid">
                                <!-- Row 1 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/2011_09_26_drive_0023_sync_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/2011_09_26_drive_0023_sync_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/2011_09_26_drive_0023_sync_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/2011_09_26_drive_0023_sync_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/2011_09_26_drive_0023_sync_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/2011_09_26_drive_0023_sync_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                
                                <!-- Row 2 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/2011_09_26_drive_0002_sync_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/2011_09_26_drive_0002_sync_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/2011_09_26_drive_0002_sync_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/2011_09_26_drive_0002_sync_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/2011_09_26_drive_0002_sync_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/2011_09_26_drive_0002_sync_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- DAVIS Dataset -->
                        <div class="gallery-slide comp-slide">
                            <div class="comparison-grid">
                                <!-- Row 1 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/soapbox_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/soapbox_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/soapbox_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/soapbox_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/soapbox_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/soapbox_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                
                                <!-- Row 2 -->
                                <div class="comparison-item">
                                    <div class="method-label">CasualSAM</div>
                                    <a href="./recordings/car-roundabout_casualSAM.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/car-roundabout_casualSAM.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">MonST3R</div>
                                    <a href="./recordings/car-roundabout_monst3r.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/car-roundabout_monst3r.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                                <div class="comparison-item">
                                    <div class="method-label">Uni4D (Ours)</div>
                                    <a href="./recordings/car-roundabout_uni4d.mp4" class="comparison-video-link" target="_blank">
                                        <video class="comparison-video" autoplay loop muted playsinline>
                                            <source src="./recordings/car-roundabout_uni4d.mp4" type="video/mp4">
                                            Your browser does not support video.
                                        </video>
                                    </a>
                                </div>
                            </div>
                        </div>
                    
                        <!-- Navigation Controls -->
                        <div class="gallery-nav comp-prev prev">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                            </svg>
                        </div>
                        <div class="gallery-nav comp-next next">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                            </svg>
                        </div>
                        
                        <!-- Indicators -->
                        <div class="gallery-indicators comp-indicators">
                            <div class="gallery-indicator comp-indicator active" data-index="0"></div>
                            <div class="gallery-indicator comp-indicator" data-index="1"></div>
                            <div class="gallery-indicator comp-indicator" data-index="2"></div>
                            <div class="gallery-indicator comp-indicator" data-index="3"></div>
                            <div class="gallery-indicator comp-indicator" data-index="4"></div>
                        </div>
                    </div>

                    <h3>Quantitative</h3>
                    <div class="quantitative-results">
                        <img src="./assets/depth_results.png" alt="Depth Evaluation Results" class="results-image">
                    </div>
                    
                    <div class="description">
                        <p>We compare Uni4d geometry both qualitatively and quantitatively over multiple datasets against strong baselines ranging from metric depth models such as Metric3D, DepthPro, and reconstruction methods such as CasualSAM and MonST3R. Uni4D demonstrates superior visual quality, temporal consistency, and geometric accuracy across a variety of challenging scenes across various datasets. Quantative evaluation through depthmap metrics further supports Uni4D's reconstruction geometry.</p>
                    </div>

                </div>
            </div>
        </section>

        <section id="comparisonpose">
            <div class="container">
                <div class="section-box">
                    
                    <!-- Pose Evaluation Section -->
                    <div class="pose-evaluation-section">
                        <h2>Results - Pose</h2>

                        <h3>Qualitative</h3>
                        
                        <!-- Pose Selection Buttons - changed to match dataset-buttons format -->
                        <div class="dataset-buttons">
                            <button class="dataset-btn pose-dataset-btn active" data-pose="0">Sintel</button>
                            <button class="dataset-btn pose-dataset-btn" data-pose="1">TUM-Dynamics</button>
                            <button class="dataset-btn pose-dataset-btn" data-pose="2">Bonn</button>
                        </div>
                        
                        <!-- Pose Gallery -->
                        <div class="gallery-container pose-gallery-container">
                            <!-- Sintel Dataset -->
                            <div class="pose-slide active">
                                <div class="pose-image-container">
                                    <div class="pose-image-item">
                                        <a href="./assets/sintel_pose_qual.png" target="_blank" class="pose-image-link">
                                            <img src="./assets/sintel_pose_qual.png" alt="Sintel Pose 1" class="pose-image">
                                        </a>
                                        <div class="pose-label">Sintel Pose 1</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- TUM-Dynamics Dataset -->
                            <div class="pose-slide">
                                <div class="pose-image-container">
                                    <div class="pose-image-item">
                                        <a href="./assets/tumd_pose_qual.png" target="_blank" class="pose-image-link">
                                            <img src="./assets/tumd_pose_qual.png" alt="TUM Pose 1" class="pose-image">
                                        </a>
                                        <div class="pose-label">TUM Pose 1</div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bonn Dataset -->
                            <div class="pose-slide">
                                <div class="pose-image-container">
                                    <div class="pose-image-item">
                                        <a href="./assets/bonn_pose_qual.png" target="_blank" class="pose-image-link">
                                            <img src="./assets/bonn_pose_qual.png" alt="Bonn Pose 1" class="pose-image">
                                        </a>
                                        <div class="pose-label">Bonn Pose 1</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Add navigation buttons for pose gallery -->
                            <div class="gallery-nav pose-prev prev">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                </svg>
                            </div>
                            <div class="gallery-nav pose-next next">
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                                    <path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
                                </svg>
                            </div>
                        </div>
                        
                        <!-- Pose Indicators -->
                        <div class="gallery-indicators pose-indicators">
                            <div class="gallery-indicator pose-indicator active" data-pose-index="0"></div>
                            <div class="gallery-indicator pose-indicator" data-pose-index="1"></div>
                            <div class="gallery-indicator pose-indicator" data-pose-index="2"></div>
                        </div>

                        <h3>Quantitative</h3>
                        <div class="quantitative-results full-width">
                            <img src="./assets/pose_results.png" alt="Pose Evaluation Results" class="results-image">
                        </div>
                        
                        <div class="description">
                            <p>We compare Uni4d pose estimation both qualitatively and quantitatively over multiple datasets against strong baselines such as LEAPVO, DPVO, CasualSAM and MonST3R. Uni4D demonstrates accurate and smooth camera poses across a variety of challenging scenes across various datasets. Quantative evaluation through pose evaluation metrics further supports Uni4D's pose estimation results.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <p>Website template created for CVPR paper presentation</p>
                <p> 2023 | This work was supported by [Funding Agency/Grant Number]</p>
            </div>
        </div>
    </footer>
    
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Video comparison functionality
            const datasetButtons = document.querySelectorAll('.dataset-btn');
            const compSlides = document.querySelectorAll('.comp-slide');
            const compIndicators = document.querySelectorAll('.comp-indicator');
            const poseButtons = document.querySelectorAll('.pose-dataset-btn');
            const poseSlides = document.querySelectorAll('.pose-slide');
            const poseIndicators = document.querySelectorAll('.pose-indicator');
            
            // Function to adjust video container heights
            function adjustVideoContainers() {
                const videos = document.querySelectorAll('.comparison-video');
                videos.forEach(video => {
                    // Make sure the video is visible
                    video.style.display = 'block';
                    video.style.width = '100%';
                    video.style.height = 'auto';
                    
                    // Handle video metadata loading
                    if (video.readyState >= 1) {
                        video.parentElement.style.height = 'auto';
                    } else {
                        video.addEventListener('loadedmetadata', function() {
                            video.parentElement.style.height = 'auto';
                        });
                    }
                });
            }
            
            // Function to ensure all videos play in the currently visible slide
            function playVisibleSlideVideos() {
                // Find the active comp-slide
                const activeSlide = document.querySelector('.comp-slide.active');
                if (activeSlide) {
                    // Find all videos in the active slide and play them
                    const videos = activeSlide.querySelectorAll('video');
                    videos.forEach(video => {
                        // Reset the video to start playing from beginning
                        video.currentTime = 0;
                        
                        // Force autoplay
                        video.play().catch(error => {
                            console.log("Auto-play was prevented:", error);
                        });
                    });
                }
            }
            
            // Call adjustVideoContainers initially and on window resize
            adjustVideoContainers();
            window.addEventListener('resize', adjustVideoContainers);
            
            // Make sure dataset buttons work correctly for comparison section
            datasetButtons.forEach(button => {
                if (!button.classList.contains('pose-dataset-btn')) {
                    button.addEventListener('click', function() {
                        // Get the dataset type
                        const dataset = this.getAttribute('data-dataset');
                        
                        // Update button states
                        datasetButtons.forEach(btn => {
                            if (!btn.classList.contains('pose-dataset-btn')) {
                                btn.classList.remove('active');
                            }
                        });
                        this.classList.add('active');
                        
                        // Find the index of this dataset button among the non-pose buttons
                        const datasets = ['sintel', 'tum', 'bonn', 'kitti', 'davis'];
                        const index = datasets.indexOf(dataset);
                        
                        if (index !== -1) {
                            // Update slides
                            compSlides.forEach((slide, i) => {
                                slide.classList.remove('active');
                                if (i === index) {
                                    slide.classList.add('active');
                                    slide.style.position = 'relative';
                                    slide.style.visibility = 'visible';
                                    slide.style.opacity = '1';
                                } else {
                                    slide.style.position = 'absolute';
                                    slide.style.visibility = 'hidden';
                                    slide.style.opacity = '0';
                                }
                            });
                            
                            // Update indicators
                            compIndicators.forEach((indicator, i) => {
                                indicator.classList.remove('active');
                                if (i === index) indicator.classList.add('active');
                            });
                            
                            // Play videos in the active slide
                            setTimeout(playVisibleSlideVideos, 100);
                        }
                    });
                }
            });
            
            // Make sure pose buttons work correctly
            poseButtons.forEach((button, index) => {
                button.addEventListener('click', function() {
                    // Update pose buttons
                    poseButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update pose slides
                    poseSlides.forEach(slide => slide.classList.remove('active'));
                    if (poseSlides[index]) poseSlides[index].classList.add('active');
                    
                    // Update pose indicators
                    poseIndicators.forEach(ind => ind.classList.remove('active'));
                    if (poseIndicators[index]) poseIndicators[index].classList.add('active');
                });
            });
            
            // Make pose indicators work
            poseIndicators.forEach((indicator, index) => {
                indicator.addEventListener('click', function() {
                    // Update pose indicators
                    poseIndicators.forEach(ind => ind.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Update pose slides
                    poseSlides.forEach(slide => slide.classList.remove('active'));
                    if (poseSlides[index]) poseSlides[index].classList.add('active');
                    
                    // Update pose buttons
                    poseButtons.forEach(btn => btn.classList.remove('active'));
                    if (poseButtons[index]) poseButtons[index].classList.add('active');
                });
            });
            
            // Navigation buttons for comparison gallery
            const compPrevBtn = document.querySelector('.gallery-nav.comp-prev');
            const compNextBtn = document.querySelector('.gallery-nav.comp-next');
            
            compPrevBtn.addEventListener('click', function() {
                // Find current active comparison slide
                let currentIndex = 0;
                compSlides.forEach((slide, i) => {
                    if (slide.classList.contains('active')) currentIndex = i;
                });
                
                // Calculate previous index with wraparound
                let prevIndex = currentIndex - 1;
                if (prevIndex < 0) prevIndex = compSlides.length - 1;
                
                // Find dataset button and click it
                const datasets = ['sintel', 'tum', 'bonn', 'kitti', 'davis'];
                const prevDataset = datasets[prevIndex];
                const prevBtn = document.querySelector(`.dataset-btn[data-dataset="${prevDataset}"]:not(.pose-dataset-btn)`);
                if (prevBtn) prevBtn.click();
            });
            
            compNextBtn.addEventListener('click', function() {
                // Find current active comparison slide
                let currentIndex = 0;
                compSlides.forEach((slide, i) => {
                    if (slide.classList.contains('active')) currentIndex = i;
                });
                
                // Calculate next index with wraparound
                let nextIndex = currentIndex + 1;
                if (nextIndex >= compSlides.length) nextIndex = 0;
                
                // Find dataset button and click it
                const datasets = ['sintel', 'tum', 'bonn', 'kitti', 'davis'];
                const nextDataset = datasets[nextIndex];
                const nextBtn = document.querySelector(`.dataset-btn[data-dataset="${nextDataset}"]:not(.pose-dataset-btn)`);
                if (nextBtn) nextBtn.click();
            });
            
            // Navigation buttons for pose gallery
            const posePrevBtn = document.querySelector('.gallery-nav.pose-prev');
            const poseNextBtn = document.querySelector('.gallery-nav.pose-next');
            
            if (posePrevBtn && poseNextBtn) {
                posePrevBtn.addEventListener('click', function() {
                    // Find current active pose slide
                    let currentIndex = 0;
                    poseSlides.forEach((slide, i) => {
                        if (slide.classList.contains('active')) currentIndex = i;
                    });
                    
                    // Calculate previous index with wraparound
                    let prevIndex = currentIndex - 1;
                    if (prevIndex < 0) prevIndex = poseSlides.length - 1;
                    
                    // Find pose button and click it
                    const poseBtn = document.querySelector(`.pose-dataset-btn:nth-child(${prevIndex + 1})`);
                    if (poseBtn) poseBtn.click();
                });
                
                poseNextBtn.addEventListener('click', function() {
                    // Find current active pose slide
                    let currentIndex = 0;
                    poseSlides.forEach((slide, i) => {
                        if (slide.classList.contains('active')) currentIndex = i;
                    });
                    
                    // Calculate next index with wraparound
                    let nextIndex = currentIndex + 1;
                    if (nextIndex >= poseSlides.length) nextIndex = 0;
                    
                    // Find pose button and click it
                    const poseBtn = document.querySelector(`.pose-dataset-btn:nth-child(${nextIndex + 1})`);
                    if (poseBtn) poseBtn.click();
                });
            }
            
            // Initialize video playback in first visible slide
            playVisibleSlideVideos();
            
            // Remove any existing play overlays from Sintel videos specifically
            const sintelSlide = document.querySelector('.comp-slide:first-child');
            if (sintelSlide) {
                const overlays = sintelSlide.querySelectorAll('.video-play-overlay');
                overlays.forEach(overlay => overlay.remove());
                
                // Force play Sintel videos again without adding overlay on failure
                const sintelVideos = sintelSlide.querySelectorAll('video');
                sintelVideos.forEach(video => {
                    video.muted = true; // Ensure muted to allow autoplay
                    video.play().catch(e => console.log('Sintel video autoplay prevented:', e));
                });
            }
        });
    </script>
</body>
</html>